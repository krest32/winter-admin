(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5233"],{CwYO:function(t,e,a){},Jn3S:function(t,e,a){"use strict";a.r(e);var r=a("xMja"),o={inject:["reload"],data:function(){return{saveBtnDisabled:!1,num:1,showCancel:!1,submitting:!1,BASE_API:"https://easy-mock.com/mock/5950a2419adc231f356a6636/vue-admin",saveVideoBtnDisabled:!1,dialogVideoFormVisible:!1,vedioSortList:[],brandList:[],brandInfo:{brandImage:"../static/cover.jpg"},catelogList:[],catelogInfo:{},CateLogOne:[],CateLogTwo:[],CateLogThree:[],catelogone:{},page:0,limit:10,total:0,queryBrandVo:{title:""}}},created:function(){this.GetAllCateLog(),this.ListAllBrand()},methods:{resetData:function(){this.queryBrandVo={},this.ListAllBrand()},GetAllCateLog:function(){var t=this;r.a.GetAllCateLog().then(function(e){t.catelogList=e.data.catelogList})},DeleteBrandById:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return r.a.DeleteBrandById(t)}).then(function(){e.ListAllBrand(),e.reload(),e.$message({type:"success",message:"删除成功!"})})},ListAllBrand:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,this.page=e,r.a.pageQueryBrand(this.page,this.limit,this.queryBrandVo).then(function(e){t.brandList=e.data.brandList,t.total=e.data.total,console.log(t.brandList)})},handleAvatarSuccess:function(t,e){console.log(t),console.log(URL.createObjectURL(e.raw)),this.brandInfo.brandImage=t.data.url,this.brandInfo.brandImageFilename=t.data.filename},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("图片只能是 JPG 格式!"),a||this.$message.error("图片大小不能超过 2MB!"),e&&a},cancel:function(){this.dialogVideoFormVisible=!1,this.btnaction()},btnaction:function(){this.ListAllBrand(),this.reload()},saveOrUpdateData:function(){this.saveVideoBtnDisabled=!0,this.brandInfo.id?(this.UpdateBrandInfo(),this.btnaction()):(this.AddNewBrand(),this.btnaction())},UpdateBrandInfo:function(){var t=this;r.a.updateBrand(this.brandInfo).then(function(e){t.$message({type:"success",message:"修改成功!"})})},AddNewBrand:function(){var t=this;r.a.AddNewBrand(this.brandInfo).then(function(e){t.$message({type:"success",message:"保存成功!"}),t.helpSaveVideo()}).catch(function(e){console.log(e.message),t.$message({type:"error",message:e.message})})},helpSaveVideo:function(){this.dialogVideoFormVisible=!1,this.ListAllBrand(),this.saveVideoBtnDisabled=!1},GetBrandById:function(t){var e=this;this.dialogVideoFormVisible=!0,r.a.GetBrandById(t).then(function(t){e.brandInfo=t.data.brand,console.log(e.brandInfo)})},pageQueryBrand:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}},n=(a("Sdsf"),a("KHd+")),d=Object(n.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("h1",[t._v("品牌列表："+t._s(t.total))]),t._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"品牌名称"}},[a("el-input",{model:{value:t.queryBrandVo.title,callback:function(e){t.$set(t.queryBrandVo,"title",e)},expression:"queryBrandVo.title"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.ListAllBrand()}}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"default"},on:{click:function(e){t.resetData()}}},[t._v("清空")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVideoFormVisible=!0,t.brandInfoID=t.brandInfo.id}}},[t._v("添加新品牌")])],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVideoFormVisible,title:"添加/修改品牌"},on:{"update:visible":function(e){t.dialogVideoFormVisible=e}}},[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"品牌名称"}},[a("el-input",{staticStyle:{width:"240px"},model:{value:t.brandInfo.title,callback:function(e){t.$set(t.brandInfo,"title",e)},expression:"brandInfo.title"}})],1)],1),t._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Logo上传"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,action:t.BASE_API+"/others/Aliyun/oss"}},[a("img",{staticStyle:{width:"500px"},attrs:{src:t.brandInfo.brandImage}})])],1)],1),t._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"品牌介绍"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{rows:5,type:"textarea",maxlength:"200","show-word-limit":""},model:{value:t.brandInfo.intro,callback:function(e){t.$set(t.brandInfo,"intro",e)},expression:"brandInfo.intro"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{disabled:t.saveVideoBtnDisabled,type:"primary"},on:{click:t.saveOrUpdateData}},[t._v("确 定")])],1)],1),t._v(" "),a("el-table",{attrs:{data:t.brandList,"element-loading-text":"拼命加载中",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n                "+t._s(e.$index+1)+"\r\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"品牌名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"intro",label:"品牌介绍",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"productNum",label:"产品数量",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"brandImage",label:"品牌图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"80px",height:"60px"},attrs:{src:t.row.brandImage,fit:"contain"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"gmtCreate",label:"添加时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gmtModified",label:"修改时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){t.GetBrandById(e.row.id)}}},[t._v("修改")]),t._v(" "),0===e.row.productNum?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-edit"},on:{click:function(a){t.DeleteBrandById(e.row.id)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":t.page,"page-size":t.limit,total:t.total,layout:"total, prev, pager, next, jumper"},on:{"current-change":t.ListAllBrand}})],1)},[],!1,null,null,null);d.options.__file="brandList.vue";e.default=d.exports},Sdsf:function(t,e,a){"use strict";var r=a("CwYO");a.n(r).a},xMja:function(t,e,a){"use strict";var r=a("t3Un");e.a={GetAllCateLog:function(){return Object(r.a)({url:"/product/catelog/GetALlCateLog",method:"get"})},deleteCateLog:function(t){return Object(r.a)({url:"/product/catelog/deleteCateLog/"+t,method:"delete"})},AddNewCateLog:function(t){return Object(r.a)({url:"/product/catelog/AddNewCateLog",method:"post",data:t})},UpdateNewCateLog:function(t){return Object(r.a)({url:"/product/catelog/UpdateNewCateLog",method:"post",data:t})},GetCateLogByID:function(t){return Object(r.a)({url:"/product/catelog/GetCateLogByID/"+t,method:"get"})},AddNewMainCateLog:function(t){return Object(r.a)({url:"/product/catelog/AddNewMainCateLog",method:"post",data:t})},ListAllBrand:function(){return Object(r.a)({url:"/product/brand/ListAllBrand",method:"get"})},DeleteBrandById:function(t){return Object(r.a)({url:"/product/brand/DeleteBrandById/"+t,method:"delete"})},AddNewBrand:function(t){return Object(r.a)({url:"/product/brand/AddNewBrand",method:"post",data:t})},GetBrandById:function(t){return Object(r.a)({url:"/product/brand/getBrandById/"+t,method:"get"})},updateBrand:function(t){return Object(r.a)({url:"/product/brand/updateBrand",method:"post",data:t})},pageQueryBrand:function(t,e,a){return Object(r.a)({url:"/product/brand/pageQueryBrand/"+t+"/"+e,method:"post",data:a})},getBrandBySortId:function(t){return Object(r.a)({url:"/product/brand-sort/getBrandBySortId/"+t,method:"get"})},addNewRelation:function(t){return Object(r.a)({url:"/product/brand-sort/addNewRelation",method:"post",data:t})},cancelRelation:function(t,e){return Object(r.a)({url:"/product/brand-sort/cancelRelation/"+t+"/"+e,method:"get"})},GetAttrGroupById:function(t){return Object(r.a)({url:"/product/catelog-attrgroup/GetAttrGroupById/"+t,method:"get"})},addNewAttrGroup:function(t){return Object(r.a)({url:"/product/catelog-attrgroup/addNewAttrGroup",method:"post",data:t})},deleteAttrGroup:function(t){return Object(r.a)({url:"/product/catelog-attrgroup/deleteAttrGroup/"+t,method:"delete"})},getAttrGroupInfo:function(t){return Object(r.a)({url:"/product/catelog-attrgroup/getAttrGroupInfo/"+t,method:"get"})},updateNewAttrGroup:function(t){return Object(r.a)({url:"/product/catelog-attrgroup/updateNewAttrGroup",method:"post",data:t})},getAttrByGroupId:function(t){return Object(r.a)({url:"/product/catelog-attr/getAttrByGroupId/"+t,method:"get"})},addNewAttr:function(t){return Object(r.a)({url:"/product/catelog-attr/addNewAttr",method:"post",data:t})},deleteAttrById:function(t){return Object(r.a)({url:"/product/catelog-attr/deleteAttrById/"+t,method:"delete"})},getAttrById:function(t){return Object(r.a)({url:"/product/catelog-attr/getAttrById/"+t,method:"get"})},updateAttr:function(t){return Object(r.a)({url:"/product/catelog-attr/updateAttr",method:"post",data:t})},ListAllProduct:function(t,e,a){return Object(r.a)({url:"/product/product/pageQueryAllProduct/"+t+"/"+e,method:"post",data:a})},addNewProduct:function(t){return Object(r.a)({url:"/product/product/addNewProduct",method:"post",data:t})},getProductById:function(t){return Object(r.a)({url:"/product/product/getProductById/"+t,method:"get"})},updateProduct:function(t){return Object(r.a)({url:"/product/product/updateProduct",method:"post",data:t})},deleteProductById:function(t){return Object(r.a)({url:"/product/product/deleteProductById/"+t,method:"delete"})},addAttrForProduct:function(t){return Object(r.a)({url:"/product/attr/addAttrForProduct",method:"post",data:t})},deleteProductAttr:function(t){return Object(r.a)({url:"/product/attr/deleteProductAttr/"+t,method:"delete"})},changeProductStatus:function(t){return Object(r.a)({url:"/product/product/changeProductStatus/"+t,method:"get"})},GetEsProductInfo:function(t){return Object(r.a)({url:"/product/product/GetEsProductInfo/"+t,method:"get"})},saveProductToEs:function(t){return Object(r.a)({url:"/others/es/saveEsProduct",method:"post",data:t})},deleteEsProduct:function(t){return Object(r.a)({url:"/others/es/deleteEsProduct/"+t,method:"delete"})}}}}]);