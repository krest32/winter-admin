(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2ce7"],{"+5ce":function(t,e,r){"use strict";var o=r("xMja"),a={data:function(){return{catelogList:[],node:{id:"",title:"",parentId:""},defaultProps:{children:"childrenCatelogs",label:"title"}}},created:function(){this.GetALlCateLog()},methods:{nodeclick:function(t,e,r){this.$emit("tree-node-click",t,e,r)},GetALlCateLog:function(){var t=this;o.a.GetAllCateLog().then(function(e){t.catelogList=e.data.catelogList})}}},n=(r("BIpA"),r("KHd+")),d=Object(n.a)(a,function(){var t=this.$createElement;return(this._self._c||t)("el-tree",{attrs:{data:this.catelogList,props:this.defaultProps,"highlight-current":"","node-key":"id","default-expand-all":""},on:{"node-click":this.nodeclick}})},[],!1,null,null,null);d.options.__file="catelogtree.vue";e.a=d.exports},"1VMj":function(t,e,r){"use strict";var o=r("Hs7x");r.n(o).a},BIpA:function(t,e,r){"use strict";var o=r("R8h0");r.n(o).a},Hs7x:function(t,e,r){},R8h0:function(t,e,r){},TS9j:function(t,e,r){"use strict";r.r(e);var o=r("xMja"),a={inject:["reload"],components:{catelogtree:r("+5ce").a},data:function(){return{saveVideoBtnDisabled:!1,dialogVideoFormVisible:!1,dialogVideoVisible:!1,dialogVisible:!1,CheckbrandList:[],checkbrand:{},checkedList:[],brandList:[],brandInfo:{},title:"",SaveBrandSortvo:{sortId:"",brandIdList:[]}}},created:function(){this.ListAllBrand()},methods:{dialogturue:function(){this.dialogVideoVisible=!0,this.ListAllBrand()},SaveRelation:function(){var t=this;o.a.addNewRelation(this.SaveBrandSortvo).then(function(e){t.dialogVideoVisible=!1,t.afterAddRelation()})},ListAllBrand:function(){var t=this;o.a.ListAllBrand().then(function(e){t.CheckbrandList=e.data.list,console.log(t.CheckbrandList)})},handlecheckedBrands:function(t){console.log(this.checkedList),this.SaveBrandSortvo.brandIdList=this.checkedList},removeRelation:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return o.a.cancelRelation(e.SaveBrandSortvo.sortId,t)}).then(function(){e.afterAddRelation(),e.$message({type:"success",message:"删除成功!"})}).catch(function(t){"cancel"===t&&e.$message({type:"info",message:"已取消删除"})})},nodeclick:function(t,e,r){var a=this;console.log(e.label),this.checkedList=[],console.log("checkedList",this.checkedList),this.SaveBrandSortvo.sortId=e.key,this.title=e.label,o.a.getBrandBySortId(this.SaveBrandSortvo.sortId).then(function(t){a.brandList=t.data.brandSortVo.brandList,a.checkedList=t.data.brandSortVo.brandIdList,console.log("brandList",a.brandList)})},afterAddRelation:function(){var t=this;o.a.getBrandBySortId(this.SaveBrandSortvo.sortId).then(function(e){t.brandList=e.data.brandSortVo.brandList,console.log("brandList",t.brandList)})}}},n=(r("1VMj"),r("KHd+")),d=Object(n.a)(a,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("h1",[t._v("分类列表")]),t._v(" "),r("catelogtree",{on:{"tree-node-click":t.nodeclick}})],1),t._v(" "),r("el-col",{attrs:{span:18}},[r("h2",[t._v("品牌列表")]),t._v(" "),t.SaveBrandSortvo.sortId?r("el-button",{attrs:{type:"text"},on:{click:t.dialogturue}},[t._v("添加属性")]):t._e(),t._v(" "),r("el-dialog",{attrs:{visible:t.dialogVideoVisible,title:"添加品牌关联"},on:{"update:visible":function(e){t.dialogVideoVisible=e}}},[r("el-form",{attrs:{"label-width":"120px"}},[r("el-form-item",{attrs:{label:"品牌介绍"}},[r("el-input",{staticStyle:{width:"300Px"},attrs:{placeholder:t.title,disabled:!0}})],1)],1),t._v(" "),r("el-checkbox-group",{on:{change:t.handlecheckedBrands},model:{value:t.checkedList,callback:function(e){t.checkedList=e},expression:"checkedList"}},t._l(t.CheckbrandList,function(e){return r("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.title))])})),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogVideoForVisible=!1}}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{disabled:t.saveVideoBtnDisabled,type:"primary"},on:{click:t.SaveRelation}},[t._v("确 定")])],1)],1),t._v(" "),r("el-table",{attrs:{data:t.brandList,"element-loading-text":"拼命加载中",border:"",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{label:"序号",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n                        "+t._s(e.$index+1)+"\r\n                    ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"title",label:"品牌名称",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"intro",label:"品牌介绍",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"brandImage",label:"品牌图片",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("el-image",{staticStyle:{width:"80px",height:"60px"},attrs:{src:t.row.brandImage,fit:"contain"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"gmtCreate",label:"添加时间",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"gmtModified",label:"修改时间",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-edit"},on:{click:function(r){t.removeRelation(e.row.id)}}},[t._v("删除关联")])]}}])})],1)],1)],1)],1)},[],!1,null,null,null);d.options.__file="brandsort.vue";e.default=d.exports},xMja:function(t,e,r){"use strict";var o=r("t3Un");e.a={GetAllCateLog:function(){return Object(o.a)({url:"/product/catelog/GetALlCateLog",method:"get"})},deleteCateLog:function(t){return Object(o.a)({url:"/product/catelog/deleteCateLog/"+t,method:"delete"})},AddNewCateLog:function(t){return Object(o.a)({url:"/product/catelog/AddNewCateLog",method:"post",data:t})},UpdateNewCateLog:function(t){return Object(o.a)({url:"/product/catelog/UpdateNewCateLog",method:"post",data:t})},GetCateLogByID:function(t){return Object(o.a)({url:"/product/catelog/GetCateLogByID/"+t,method:"get"})},AddNewMainCateLog:function(t){return Object(o.a)({url:"/product/catelog/AddNewMainCateLog",method:"post",data:t})},ListAllBrand:function(){return Object(o.a)({url:"/product/brand/ListAllBrand",method:"get"})},DeleteBrandById:function(t){return Object(o.a)({url:"/product/brand/DeleteBrandById/"+t,method:"delete"})},AddNewBrand:function(t){return Object(o.a)({url:"/product/brand/AddNewBrand",method:"post",data:t})},GetBrandById:function(t){return Object(o.a)({url:"/product/brand/getBrandById/"+t,method:"get"})},updateBrand:function(t){return Object(o.a)({url:"/product/brand/updateBrand",method:"post",data:t})},pageQueryBrand:function(t,e,r){return Object(o.a)({url:"/product/brand/pageQueryBrand/"+t+"/"+e,method:"post",data:r})},getBrandBySortId:function(t){return Object(o.a)({url:"/product/brand-sort/getBrandBySortId/"+t,method:"get"})},addNewRelation:function(t){return Object(o.a)({url:"/product/brand-sort/addNewRelation",method:"post",data:t})},cancelRelation:function(t,e){return Object(o.a)({url:"/product/brand-sort/cancelRelation/"+t+"/"+e,method:"get"})},GetAttrGroupById:function(t){return Object(o.a)({url:"/product/catelog-attrgroup/GetAttrGroupById/"+t,method:"get"})},addNewAttrGroup:function(t){return Object(o.a)({url:"/product/catelog-attrgroup/addNewAttrGroup",method:"post",data:t})},deleteAttrGroup:function(t){return Object(o.a)({url:"/product/catelog-attrgroup/deleteAttrGroup/"+t,method:"delete"})},getAttrGroupInfo:function(t){return Object(o.a)({url:"/product/catelog-attrgroup/getAttrGroupInfo/"+t,method:"get"})},updateNewAttrGroup:function(t){return Object(o.a)({url:"/product/catelog-attrgroup/updateNewAttrGroup",method:"post",data:t})},getAttrByGroupId:function(t){return Object(o.a)({url:"/product/catelog-attr/getAttrByGroupId/"+t,method:"get"})},addNewAttr:function(t){return Object(o.a)({url:"/product/catelog-attr/addNewAttr",method:"post",data:t})},deleteAttrById:function(t){return Object(o.a)({url:"/product/catelog-attr/deleteAttrById/"+t,method:"delete"})},getAttrById:function(t){return Object(o.a)({url:"/product/catelog-attr/getAttrById/"+t,method:"get"})},updateAttr:function(t){return Object(o.a)({url:"/product/catelog-attr/updateAttr",method:"post",data:t})},ListAllProduct:function(t,e,r){return Object(o.a)({url:"/product/product/pageQueryAllProduct/"+t+"/"+e,method:"post",data:r})},addNewProduct:function(t){return Object(o.a)({url:"/product/product/addNewProduct",method:"post",data:t})},getProductById:function(t){return Object(o.a)({url:"/product/product/getProductById/"+t,method:"get"})},updateProduct:function(t){return Object(o.a)({url:"/product/product/updateProduct",method:"post",data:t})},deleteProductById:function(t){return Object(o.a)({url:"/product/product/deleteProductById/"+t,method:"delete"})},addAttrForProduct:function(t){return Object(o.a)({url:"/product/attr/addAttrForProduct",method:"post",data:t})},deleteProductAttr:function(t){return Object(o.a)({url:"/product/attr/deleteProductAttr/"+t,method:"delete"})},changeProductStatus:function(t){return Object(o.a)({url:"/product/product/changeProductStatus/"+t,method:"get"})},GetEsProductInfo:function(t){return Object(o.a)({url:"/product/product/GetEsProductInfo/"+t,method:"get"})},saveProductToEs:function(t){return Object(o.a)({url:"/others/es/saveEsProduct",method:"post",data:t})},deleteEsProduct:function(t){return Object(o.a)({url:"/others/es/deleteEsProduct/"+t,method:"delete"})}}}}]);