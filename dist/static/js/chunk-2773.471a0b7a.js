(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2773"],{"+5ce":function(t,e,r){"use strict";var o=r("xMja"),a={data:function(){return{catelogList:[],node:{id:"",title:"",parentId:""},defaultProps:{children:"childrenCatelogs",label:"title"}}},created:function(){this.GetALlCateLog()},methods:{nodeclick:function(t,e,r){this.$emit("tree-node-click",t,e,r)},GetALlCateLog:function(){var t=this;o.a.GetAllCateLog().then(function(e){t.catelogList=e.data.catelogList})}}},n=(r("BIpA"),r("KHd+")),i=Object(n.a)(a,function(){var t=this.$createElement;return(this._self._c||t)("el-tree",{attrs:{data:this.catelogList,props:this.defaultProps,"highlight-current":"","node-key":"id","default-expand-all":""},on:{"node-click":this.nodeclick}})},[],!1,null,null,null);i.options.__file="catelogtree.vue";e.a=i.exports},BIpA:function(t,e,r){"use strict";var o=r("R8h0");r.n(o).a},R8h0:function(t,e,r){},Wuiv:function(t,e,r){"use strict";r.r(e);var o=r("xMja"),a={inject:["reload"],components:{catelogtree:r("+5ce").a},data:function(){return{groupTitle:"",saveVideoBtnDisabled:!1,dialogVideoFormVisible:!1,dialogVideoVisible:!1,dialogVisible:!1,attrGroupInfo:{id:""},attrGroupList:[],attrList:[],defaultProps:{children:"children",label:"title"},sortId:"",sortTitle:"",attrInfo:{attrGroupId:""}}},created:function(){},methods:{cancelAddAttrGroup:function(){this.dialogVideoFormVisible=!1,this.attrGroupInfo.title=""},cancelAddAttr:function(){this.dialogVideoVisible=!1,this.attrInfo.title=""},getAttrById:function(t){var e=this;o.a.getAttrById(t).then(function(t){e.attrInfo=t.data.attr})},editAttr:function(t){this.attrInfo.id=t,this.dialogVideoVisible=!0,this.getAttrById(this.attrInfo.id)},updateAttr:function(){var t=this;o.a.updateAttr(this.attrInfo).then(function(e){t.dialogVideoVisible=!1,t.$message({type:"success",message:"修改成功!"}),t.attrInfo.id="",t.attrInfo.title="",t.afterEditAttrInfo()})},SaveOrupdateAttr:function(){this.attrInfo.id?(this.updateAttr(),this.afterEditAttrInfo()):(this.addNewAttr(),this.afterEditAttrInfo())},addNewAttr:function(){var t=this;o.a.addNewAttr(this.attrInfo).then(function(e){t.dialogVideoVisible=!1,t.$message({type:"success",message:"保存成功!"}),t.attrInfo.title="",t.afterEditAttrInfo(),t.afterEditAttrGroup()})},removeDataById:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return o.a.deleteAttrById(t)}).then(function(){e.afterEditAttrInfo(),e.afterEditAttrGroup(),e.$message({type:"success",message:"删除成功!"})}).catch(function(t){"cancel"===t&&e.$message({type:"info",message:"已取消删除"})})},afterEditAttrInfo:function(){var t=this;o.a.getAttrByGroupId(this.attrInfo.attrGroupId).then(function(e){t.attrList=e.data.attrList})},modifiedArrGroup:function(t){this.dialogVideoFormVisible=!0,this.attrGroupInfo.id=t.data.id,this.getAttrGroup(),console.log(t.data.id)},updateAttrGroup:function(){var t=this;console.log(this.attrGroupInfo),o.a.updateNewAttrGroup(this.attrGroupInfo).then(function(e){t.dialogVideoFormVisible=!1,t.afterEditAttrGroup()})},SaveOrupdateAttrGroup:function(){this.attrGroupInfo.id?(this.updateAttrGroup(),this.afterEditAttrGroup()):(this.addNewAttrGroup(),this.afterEditAttrGroup())},addNewAttrGroup:function(){var t=this;this.attrGroupInfo.oneSortId=this.sortId,o.a.addNewAttrGroup(this.attrGroupInfo).then(function(e){t.dialogVideoFormVisible=!1,t.afterEditAttrGroup()})},afterEditAttrGroup:function(){var t=this;o.a.GetAttrGroupById(this.sortId).then(function(e){t.attrGroupList=e.data.attrGopurList,console.log(t.attrGroupList),t.attrGroupInfo.title=""})},handleAttrGroupClick:function(t,e){var r=this;this.attrInfo.attrGroupId=t.id,this.groupTitle=t.title,console.log(this.attrInfo.attrGroupId),o.a.getAttrByGroupId(t.id).then(function(t){r.attrList=t.data.attrList})},nodeclick:function(t,e,r){var a=this;console.log(e),this.sortId=e.key,this.sortTitle=t.title,this.attrInfo.attrGroupId="",o.a.GetAttrGroupById(e.key).then(function(t){a.attrGroupList=t.data.attrGopurList,console.log(a.attrGroupList)})},removeArrGroup:function(t,e){var r=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return console.log(e.id),o.a.deleteAttrGroup(e.id)}).then(function(){r.afterEditAttrGroup(),r.$message({type:"success",message:"删除成功!"})}).catch(function(t){"cancel"===t&&r.$message({type:"info",message:"已取消删除"})})},getAttrGroup:function(){var t=this;o.a.getAttrGroupInfo(this.attrGroupInfo.id).then(function(e){t.attrGroupInfo=e.data.attrGroupInfo})}}},n=(r("aAMs"),r("KHd+")),i=Object(n.a)(a,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:5}},[r("h1",[t._v("分类列表")]),t._v(" "),r("catelogtree",{on:{"tree-node-click":t.nodeclick}})],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("h1",[t._v("属性分组列表")]),t._v(" "),r("el-row",[t.sortId?r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVideoFormVisible=!0}}},[t._v(t._s(t.sortTitle)+"：添加属性分组")]):t._e()],1),t._v(" "),r("el-dialog",{attrs:{visible:t.dialogVideoFormVisible,title:"添加/修改AttrGroup"},on:{"update:visible":function(e){t.dialogVideoFormVisible=e}}},[r("el-form",{attrs:{model:t.attrGroupInfo,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"标题"}},[r("el-input",{staticStyle:{width:"240px"},model:{value:t.attrGroupInfo.title,callback:function(e){t.$set(t.attrGroupInfo,"title",e)},expression:"attrGroupInfo.title"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.cancelAddAttrGroup}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{disabled:t.saveVideoBtnDisabled,type:"primary"},on:{click:t.SaveOrupdateAttrGroup}},[t._v("确 定")])],1)],1),t._v(" "),r("el-tree",{attrs:{data:t.attrGroupList,"node-key":"id","default-expand-all":"","highlight-current":"","expand-on-click-node":!1,props:t.defaultProps},on:{"node-click":t.handleAttrGroupClick},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.node,a=e.data;return r("span",{staticClass:"cus-tree-node"},[r("span",[t._v(t._s(o.label))]),t._v(" "),r("span",[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){t.modifiedArrGroup(o,a)}}},[t._v("\r\n                            修改\r\n                        ")]),t._v(" "),0===a.attrNum?r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){t.removeArrGroup(o,a)}}},[t._v("\r\n                            删除\r\n                        ")]):t._e()],1)])}}])})],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("h1",[t._v("属性列表")]),t._v(" "),r("el-row",[t.sortId&&t.attrInfo.attrGroupId?r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVideoVisible=!0}}},[t._v("\r\n                    "+t._s(t.sortTitle)+"->"+t._s(t.groupTitle)+"->添加属性")]):t._e()],1),t._v(" "),r("el-dialog",{attrs:{visible:t.dialogVideoVisible,title:"添加/修改Attr"},on:{"update:visible":function(e){t.dialogVideoVisible=e}}},[r("el-form",{attrs:{model:t.attrGroupInfo,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"标题"}},[r("el-input",{staticStyle:{width:"240px"},model:{value:t.attrInfo.title,callback:function(e){t.$set(t.attrInfo,"title",e)},expression:"attrInfo.title"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.cancelAddAttr}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{disabled:t.saveVideoBtnDisabled,type:"primary"},on:{click:t.SaveOrupdateAttr}},[t._v("确 定")])],1)],1),t._v(" "),t.sortId&&t.attrInfo.attrGroupId?r("el-table",{attrs:{data:t.attrList,"element-loading-text":"拼命加载中",border:"",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{label:"序号",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n                        "+t._s(e.$index+1)+"\r\n                    ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"title",label:"分类名称",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"attrUseNum",label:"使用数量",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"gmtCreate",label:"添加时间",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(r){t.editAttr(e.row.id)}}},[t._v("修改")]),t._v(" "),0===e.row.attrUseNum?r("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(r){t.removeDataById(e.row.id)}}},[t._v("删除")]):t._e()]}}])})],1):t._e()],1)],1)],1)},[],!1,null,null,null);i.options.__file="catelogattr.vue";e.default=i.exports},aAMs:function(t,e,r){"use strict";var o=r("k/tS");r.n(o).a},"k/tS":function(t,e,r){},xMja:function(t,e,r){"use strict";var o=r("t3Un");e.a={GetAllCateLog:function(){return Object(o.a)({url:"/product/catelog/GetALlCateLog",method:"get"})},deleteCateLog:function(t){return Object(o.a)({url:"/product/catelog/deleteCateLog/"+t,method:"delete"})},AddNewCateLog:function(t){return Object(o.a)({url:"/product/catelog/AddNewCateLog",method:"post",data:t})},UpdateNewCateLog:function(t){return Object(o.a)({url:"/product/catelog/UpdateNewCateLog",method:"post",data:t})},GetCateLogByID:function(t){return Object(o.a)({url:"/product/catelog/GetCateLogByID/"+t,method:"get"})},AddNewMainCateLog:function(t){return Object(o.a)({url:"/product/catelog/AddNewMainCateLog",method:"post",data:t})},ListAllBrand:function(){return Object(o.a)({url:"/product/brand/ListAllBrand",method:"get"})},DeleteBrandById:function(t){return Object(o.a)({url:"/product/brand/DeleteBrandById/"+t,method:"delete"})},AddNewBrand:function(t){return Object(o.a)({url:"/product/brand/AddNewBrand",method:"post",data:t})},GetBrandById:function(t){return Object(o.a)({url:"/product/brand/getBrandById/"+t,method:"get"})},updateBrand:function(t){return Object(o.a)({url:"/product/brand/updateBrand",method:"post",data:t})},pageQueryBrand:function(t,e,r){return Object(o.a)({url:"/product/brand/pageQueryBrand/"+t+"/"+e,method:"post",data:r})},getBrandBySortId:function(t){return Object(o.a)({url:"/product/brand-sort/getBrandBySortId/"+t,method:"get"})},addNewRelation:function(t){return Object(o.a)({url:"/product/brand-sort/addNewRelation",method:"post",data:t})},cancelRelation:function(t,e){return Object(o.a)({url:"/product/brand-sort/cancelRelation/"+t+"/"+e,method:"get"})},GetAttrGroupById:function(t){return Object(o.a)({url:"/product/catelog-attrgroup/GetAttrGroupById/"+t,method:"get"})},addNewAttrGroup:function(t){return Object(o.a)({url:"/product/catelog-attrgroup/addNewAttrGroup",method:"post",data:t})},deleteAttrGroup:function(t){return Object(o.a)({url:"/product/catelog-attrgroup/deleteAttrGroup/"+t,method:"delete"})},getAttrGroupInfo:function(t){return Object(o.a)({url:"/product/catelog-attrgroup/getAttrGroupInfo/"+t,method:"get"})},updateNewAttrGroup:function(t){return Object(o.a)({url:"/product/catelog-attrgroup/updateNewAttrGroup",method:"post",data:t})},getAttrByGroupId:function(t){return Object(o.a)({url:"/product/catelog-attr/getAttrByGroupId/"+t,method:"get"})},addNewAttr:function(t){return Object(o.a)({url:"/product/catelog-attr/addNewAttr",method:"post",data:t})},deleteAttrById:function(t){return Object(o.a)({url:"/product/catelog-attr/deleteAttrById/"+t,method:"delete"})},getAttrById:function(t){return Object(o.a)({url:"/product/catelog-attr/getAttrById/"+t,method:"get"})},updateAttr:function(t){return Object(o.a)({url:"/product/catelog-attr/updateAttr",method:"post",data:t})},ListAllProduct:function(t,e,r){return Object(o.a)({url:"/product/product/pageQueryAllProduct/"+t+"/"+e,method:"post",data:r})},addNewProduct:function(t){return Object(o.a)({url:"/product/product/addNewProduct",method:"post",data:t})},getProductById:function(t){return Object(o.a)({url:"/product/product/getProductById/"+t,method:"get"})},updateProduct:function(t){return Object(o.a)({url:"/product/product/updateProduct",method:"post",data:t})},deleteProductById:function(t){return Object(o.a)({url:"/product/product/deleteProductById/"+t,method:"delete"})},addAttrForProduct:function(t){return Object(o.a)({url:"/product/attr/addAttrForProduct",method:"post",data:t})},deleteProductAttr:function(t){return Object(o.a)({url:"/product/attr/deleteProductAttr/"+t,method:"delete"})},changeProductStatus:function(t){return Object(o.a)({url:"/product/product/changeProductStatus/"+t,method:"get"})},GetEsProductInfo:function(t){return Object(o.a)({url:"/product/product/GetEsProductInfo/"+t,method:"get"})},saveProductToEs:function(t){return Object(o.a)({url:"/others/es/saveEsProduct",method:"post",data:t})},deleteEsProduct:function(t){return Object(o.a)({url:"/others/es/deleteEsProduct/"+t,method:"delete"})}}}}]);